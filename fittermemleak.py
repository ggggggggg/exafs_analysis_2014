import mass
from numpy import array

counts, bins, param_guess, hold = (array([0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 1, 0, 0, 0, 0, 0]), array([ 11962.67507013,  11962.827287  ,  11962.97950387,  11963.13172074,
        11963.28393762,  11963.43615449,  11963.58837136,  11963.74058823,
        11963.8928051 ,  11964.04502197,  11964.19723885,  11964.34945572,
        11964.50167259,  11964.65388946,  11964.80610633,  11964.9583232 ,
        11965.11054007,  11965.26275695,  11965.41497382,  11965.56719069,
        11965.71940756,  11965.87162443,  11966.0238413 ,  11966.17605818,
        11966.32827505,  11966.48049192,  11966.63270879,  11966.78492566,
        11966.93714253,  11967.0893594 ,  11967.24157628,  11967.39379315,
        11967.54601002,  11967.69822689,  11967.85044376,  11968.00266063,
        11968.15487751,  11968.30709438,  11968.45931125,  11968.61152812,
        11968.76374499,  11968.91596186,  11969.06817873,  11969.22039561,
        11969.37261248,  11969.52482935,  11969.67704622,  11969.82926309,
        11969.98147996,  11970.13369684,  11970.28591371,  11970.43813058,
        11970.59034745,  11970.74256432,  11970.89478119,  11971.04699806,
        11971.19921494,  11971.35143181,  11971.50364868,  11971.65586555,
        11971.80808242,  11971.96029929,  11972.11251617,  11972.26473304,
        11972.41694991,  11972.56916678,  11972.72138365,  11972.87360052,
        11973.02581739,  11973.17803427,  11973.33025114,  11973.48246801,
        11973.63468488,  11973.78690175,  11973.93911862,  11974.0913355 ,
        11974.24355237,  11974.39576924,  11974.54798611,  11974.70020298,
        11974.85241985,  11975.00463672,  11975.1568536 ,  11975.30907047,
        11975.46128734,  11975.61350421,  11975.76572108,  11975.91793795,
        11976.07015483,  11976.2223717 ,  11976.37458857,  11976.52680544,
        11976.67902231,  11976.83123918,  11976.98345605,  11977.13567293,
        11977.2878898 ,  11977.44010667,  11977.59232354,  11977.74454041,
        11977.89675728,  11978.04897416]), [0.76869520127634605, 11970.362022142732, 0.076869520127634608, None, None, None, None, None], [2])

fitter = mass.calibration.FeKAlphaFitter()


for j in range(10000):
    fitter.fit(counts, bins, param_guess, hold=hold, plot=False)
    print(j)